<head>
    <meta charset="UTF-8">
    <title>大作业-北京地铁拥挤度分析</title>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/v5/echarts.min.js"></script>
            <style>
                h1{
                    text-align: center;
                    color:lightcoral;
                }
                h2{
                    color: burlywood;
                    text-align: center;
                }
                img{
                    max-width: 70%;
                    width:70%;
                }
                p{
                    text-align: center;
                }
            </style>

</head>
<body>
    
    <div id="intro" style="width: 1500px;background-color:white;margin-top: 0px;color:darkseagreen ;"> 
        <h1>北京地铁拥挤度分析</h1><div>
        <h2>作业简介</h2>
        <p>本作业连续7天每5min抓取北京地铁各站、站间列车拥挤度数据，统计绘制可视化数据呈现</p>
        <p>本作业主要数据来源：<a href="https://map.bjsubway.com">map.bjsubway.com</a>与<a href="https://metrodb.org">metrodb.org</a> </p>

        <h2>北京地铁简介</h2>
        <p>随着城市建设的迅速发展，轨道交通的拥挤问题日益显现。地铁拥挤是这一问题的最重要的方面。总体上，北京地铁拥挤呈现集中于工作日早晚高峰的特点，拥挤强度大，密度分布不均，高峰时候车、换乘、乘车体验十分不适，更有着潜在的安全问题。</p>
        <p>截止至2021年底, 北京地铁运营17条线路，运营里程538公里，运营车站330座，换乘车站69座。</p>
        <p>研究北京地铁这些车站、线路拥挤的时空分布特点可以更清晰的解析工作交通高峰的特征，进而指导交通和城市建设的规划，优化公共交通出行体验。于个人也可以合理选择路线，使得出行更加舒适高效</p>
        
        <p></p>
        <div align="center"><img src="./imgs/lwt.png"></div>
        <h1>
        数据综合(点击链接可以查看更详细的动态图表)
    </h1>
        <p></p>
        <p></p>
        <h2>7日日客流总量统计</h2>
        <div align="center"><div id="3c958e46923a4fcabb37b8111704d298" class="chart-container" style="width:900px; height:500px; "></div>
    </div>
        </div> 
        <p></p>
        <p></p>
        <div>
            <a href="./charts/wordcloud_opts.html"><h2>北京地铁站名分词统计词云</h2></a>
            
            <p>使用了jieba库分词统计地铁站命名的特点，可以发现命名成分中以方向和标志性建筑为主</p><div align="center"><img src="./imgs/1.png"></div><p></p><p></p><p></p><p></p><p></p>
            <a href="./charts/stack_bar_percent.html"><h2>连续7日北京地铁站拥挤度分布统计柱状图（含车站拥挤和车厢拥挤两个视图标签）</h2></a>
            
            <p>统计每5min不拥挤、轻度拥挤、拥挤、严重拥挤的车站和车站间列车段数量所占总数的比例随时间的变化，可以显著看出在晚高峰，以及周末高峰的减少。
            </p><div align="center"><img src="./imgs/2.png"></div><p></p><p></p><p></p><p></p>
            <a href="./charts/station_bar_percent.html"><h2>7日每天北京地铁不同车站拥挤时长占比（每天有一个视图标签可选）</h2></a>
            
            <p>统计每日220余次爬取中每个车站为不拥挤、轻度拥挤、拥挤、严重拥挤的次数和所占每日爬取次数的比例，可以看出那些车站在人们的通勤中起到最重要的作用</p><div align="center"><img src="./imgs/3.png"></div><p></p><p></p><p></p>
            <p></p><p></p><a href="./charts/timeline_map.html"><h2>7日北京地铁拥挤车站地理位置分布随时间变化（每天有一个视图标签可选）</h2></a>
            
            <p>筛选每天220余次爬取中每次拥挤的车站，利用爬取的地理经纬度信息绘制，可以看出人们主要的工作和居住区的分布</p><div align="center"><img src="./imgs/4.png"></div><p></p><p></p><p></p>
        </div> 
    </div>
    
    <script>
        var chart_3c958e46923a4fcabb37b8111704d298 = echarts.init(
            document.getElementById('3c958e46923a4fcabb37b8111704d298'), 'light', {renderer: 'canvas'});
        var option_3c958e46923a4fcabb37b8111704d298 = {
    "animation": true,
    "animationThreshold": 2000,
    "animationDuration": 1000,
    "animationEasing": "cubicOut",
    "animationDelay": 0,
    "animationDurationUpdate": 300,
    "animationEasingUpdate": "cubicOut",
    "animationDelayUpdate": 0,
    "aria": {
        "enabled": false
    },
    "series": [
        {
            "type": "bar",
            "name": "\u65e5\u5ba2\u6d41\u91cf\uff08\u4e07\u4eba\u6b21\uff09",
            "legendHoverLink": true,
            "data": [
                1066.37,
                1134.92,
                728.21,
                660.18,
                1056.39,
                1054.17,
                1044.54,
                1034.95
            ],
            "realtimeSort": false,
            "showBackground": false,
            "stack": "stack1",
            "stackStrategy": "samesign",
            "cursor": "pointer",
            "barMinHeight": 0,
            "barCategoryGap": "0%",
            "barGap": "30%",
            "large": false,
            "largeThreshold": 400,
            "seriesLayoutBy": "column",
            "datasetIndex": 0,
            "clip": true,
            "zlevel": 0,
            "z": 2,
            "label": {
                "show": true,
                "margin": 8
            }
        }
    ],
    "legend": [
        {
            "data": [
                "\u65e5\u5ba2\u6d41\u91cf\uff08\u4e07\u4eba\u6b21\uff09"
            ],
            "selected": {
                "\u65e5\u5ba2\u6d41\u91cf\uff08\u4e07\u4eba\u6b21\uff09": true
            },
            "show": true,
            "padding": 5,
            "itemGap": 10,
            "itemWidth": 25,
            "itemHeight": 14,
            "backgroundColor": "transparent",
            "borderColor": "#ccc",
            "borderWidth": 1,
            "borderRadius": 0,
            "pageButtonItemGap": 5,
            "pageButtonPosition": "end",
            "pageFormatter": "{current}/{total}",
            "pageIconColor": "#2f4554",
            "pageIconInactiveColor": "#aaa",
            "pageIconSize": 15,
            "animationDurationUpdate": 800,
            "selector": false,
            "selectorPosition": "auto",
            "selectorItemGap": 7,
            "selectorButtonGap": 10
        }
    ],
    "tooltip": {
        "show": true,
        "trigger": "item",
        "triggerOn": "mousemove|click",
        "axisPointer": {
            "type": "line"
        },
        "showContent": true,
        "alwaysShowContent": false,
        "showDelay": 0,
        "hideDelay": 100,
        "enterable": false,
        "confine": false,
        "appendToBody": false,
        "transitionDuration": 0.4,
        "textStyle": {
            "fontSize": 14
        },
        "borderWidth": 0,
        "padding": 5,
        "order": "seriesAsc"
    },
    "xAxis": [
        {
            "show": true,
            "scale": false,
            "nameLocation": "end",
            "nameGap": 15,
            "gridIndex": 0,
            "axisLabel": {
                "show": true,
                "rotate": -45,
                "margin": 8
            },
            "inverse": false,
            "offset": 0,
            "splitNumber": 5,
            "minInterval": 0,
            "splitLine": {
                "show": true,
                "lineStyle": {
                    "show": true,
                    "width": 1,
                    "opacity": 1,
                    "curveness": 0,
                    "type": "solid"
                }
            },
            "data": [
                "5-18",
                "5-19",
                "5-20",
                "5-21",
                "5-22",
                "5-23",
                "5-24",
                "5-25"
            ]
        }
    ],
    "yAxis": [
        {
            "show": true,
            "scale": false,
            "nameLocation": "end",
            "nameGap": 15,
            "gridIndex": 0,
            "inverse": false,
            "offset": 0,
            "splitNumber": 5,
            "minInterval": 0,
            "splitLine": {
                "show": true,
                "lineStyle": {
                    "show": true,
                    "width": 1,
                    "opacity": 1,
                    "curveness": 0,
                    "type": "solid"
                }
            }
        }
    ],
    "title": [
        {
            "show": true,
            "text": "total",
            "target": "blank",
            "subtarget": "blank",
            "padding": 5,
            "itemGap": 10,
            "textAlign": "auto",
            "textVerticalAlign": "auto",
            "triggerEvent": false
        }
    ],
    "dataZoom": [
        {
            "show": true,
            "type": "slider",
            "showDetail": true,
            "showDataShadow": true,
            "realtime": true,
            "start": 20,
            "end": 80,
            "orient": "horizontal",
            "zoomLock": false,
            "filterMode": "filter"
        }
    ]
};
        chart_3c958e46923a4fcabb37b8111704d298.setOption(option_3c958e46923a4fcabb37b8111704d298);
    </script>
</body>
